dist: trusty
language: python

python:
  - "3.6"

# https://docs.travis-ci.com/user/gui-and-headless-browsers/
#addons:
#  chrome: stable

# https://benlimmer.com/2019/01/14/travis-ci-xvfb/
#services:
#  - xvfb

before_script:
  - wget http://chromedriver.storage.googleapis.com/2.24/chromedriver_linux64.zip
  - unzip chromedriver_linux64.zip -d /home/travis/virtualenv/python2.7.12/bin/
  - export CHROME_BIN=chromium-browser
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3

# Command to install dependencies, e.g. pip install -r requirements.txt --use-mirrors
install: pip install -U tox-travis

# Command to run tests, e.g. python setup.py test
script: tox
